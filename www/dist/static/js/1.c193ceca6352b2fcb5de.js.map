{"version":3,"sources":["webpack:///src/views/authority/userRole/index.vue","webpack:///./src/views/authority/userRole/index.vue?6d99","webpack:///./src/views/authority/userRole/index.vue","webpack:///src/views/authority/detail.vue","webpack:///./src/views/authority/detail.vue?7ff8","webpack:///./src/views/authority/detail.vue"],"names":["userRole","components","TopHeader","header","KyeDialog","dialog","FilterTree","tree","roleDetail","detail","data","currentKey","currentRoleKey","bindItem","roleId","undefined","users","remark","currentUserName","currentRoleName","stateRole","bindStateUser","stateUser","stateUserId","pageUserId","hasDetail","page","total","size","current","sizes","tableData","item","id","name","status","type","department_id","department_name","associated_system","associated_user","bindDialog","hasDialog","title","treeProps","label","children","isLeaf","rules","required","trigger","validator","rule","value","callback","length","Error","message","computed","roleTypes","this","$store","state","watch","val","methods","queryUser","queryString","cb","api","getUserList","per_page","then","res","result","queryRoleUser","queryBindUser","queryRole","getRoleList","handleSelectUser","handleSelectRole","$refs","treeRoleRef","setCurrentKey","handleSearch","inputRef","focus","treeRef","requestList","_this","params","user_id","getUserRoleList","pagination","total_count","unBindRole","_this2","role_id","$confirm","confirmButtonText","cancelButtonText","$message","handleSizeChange","handleCurrentChange","index","onOrgTreeClick","node","el","onRoleTreeClick","showBindDialog","bool","resetForm","onDetail","getRoleInfo","_this3","getRole","departmentName","bindRole","getCheckedNodes","handleSelectBindUser","findIndex","push","onRoleBlur","handleDelUser","splice","submitForm","formName","_this4","validate","valid","options","user_ids","map","resetFields","loadNode","resolve","getOrgTree","forEach","loadRoleNode","getRoleTree","authority_userRole","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","click","$event","aria-hidden","xlink:href","_v","ref","clearable","fetch-suggestions","placeholder","trigger-on-focus","select","scopedSlots","_u","key","fn","_s","model","$$v","expression","slot","icon","highlight-current","props","load","node-key","lazy","show-checkbox","node-click","directives","rawName","staticStyle","width","scope","$index","prop","row","style","color","_e","background","page-sizes","layout","current-page","prev-text","next-text","size-change","current-change","update:currentPage","$set","is-show-dialog","gutter","span","autosize","minRows","maxRows","blur","role-types","has-detail","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","SystemItem","system","Object","Boolean","String","default","isShowDialog","$emit","authority_detail","_l"],"mappings":"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","file":"static/js/1.c193ceca6352b2fcb5de.js","sourcesContent":["<style lang=\"less\" scoped>\n\n.page-container {\n  &:after {\n    display: block;\n    content: \"\";\n    font-size: 0;\n    clear: both;\n  }\n}\n.box-tree {\n  float: left;\n  width: 356px;\n}\n.box-list {\n  margin-left: 376px;\n}\n.box-title {\n  margin-bottom: 20px;\n  padding: 0 12px;\n  display: block;\n  height: 30px;\n  line-height: 30px;\n  font-size: 14px;\n  background-color: #f1f3f5;\n  span {\n    margin-left: 12px;\n    font-size: 12px;\n    color: #909399;\n  }\n}\n.tree-wraper {\n  position: relative;\n  padding: 20px;\n  border: 1px solid #DCDAE2;\n  border-radius: 4px;\n}\n.uzzy-search {\n  display: flex;\n  padding-bottom: 10px;\n  @{global} {\n    .el-input__inner {\n      width: 100%;\n    }\n    .el-button {\n      margin-left: 10px;\n    }\n    .el-autocomplete {\n      flex: 1;\n      .el-input__inner{\n        height: 32px;\n        line-height: 32px;\n        font-size: 12px;\n        padding: 0 10px;\n      }\n    }\n  }\n}\n.tree-box {\n  margin: 0 -14px 0 -6px;\n  overflow: auto;\n  height: calc(100vh - 230px);\n  @{global} .el-tree-node>.el-tree-node__children {\n    overflow: inherit;\n  }\n}\n.bind-tree-wraper .tree-box{\n  height: 383px;\n}\n.bind-item {\n  height: 400px;\n  overflow: auto;\n}\n.bind-role-filter.table-filters {\n  margin-top: 10px;\n  padding-bottom: 0;\n  .filter-item {\n    width: 100%;\n  }\n}\n.page-box {\n  @{global} {\n    .el-form {\n      .el-form-item {\n        margin-bottom: 0px;\n      }\n      .el-form-item__error {\n        top: 30px;\n      }\n    }\n  }\n}\n.filter-tree-box {\n  position: relative;\n  height: 100%;\n}\n.icon-svg {\n  width: 10px;\n  height: 10px;\n}\n.icon-svg-txt {\n  vertical-align: middle;\n}\n</style>\n<template>\n  <div class=\"page-box\">\n    <top-header title=\"用户角色管理\">\n      <el-button type=\"text\" size=\"mini\" @click=\"bindRole()\">\n        <svg class=\"icon icon-svg\" aria-hidden=\"true\">\n          <use xlink:href=\"#icon-bangding\"></use>\n        </svg>\n        <span class=\"icon-svg-txt\"> 绑定角色</span></el-button>\n    </top-header>\n    <div class=\"page-container\">\n      <div class=\"box-tree\">\n        <strong class=\"box-title\">组织架构</strong>\n        <div class=\"tree-wraper\">\n          <div class=\"uzzy-search\">\n            <el-autocomplete\n              ref=\"inputRef\"\n              clearable\n              :fetch-suggestions=\"queryRoleUser\"\n              placeholder=\"请输入员工姓名\"\n              v-model=\"stateUser\"\n              :trigger-on-focus=\"false\"\n              @select=\"handleSelectUser\"\n            >\n              <i\n                class=\"el-icon-search el-input__icon\"\n                slot=\"suffix\">\n              </i>\n              <template slot-scope=\"{ item }\">\n                <div class=\"name text-overflow-ellipsis\" :title=\"`${item.name}，${item.department_name}`\">{{ `${item.name}，${item.department_name}` }}</div>\n              </template>\n            </el-autocomplete>\n            <el-button @click=\"handleSearch\" type=\"primary\" icon=\"el-icon-search\" size=\"small\">查询</el-button>\n          </div>\n          <div class=\"tree-box\">\n            <el-tree\n              ref=\"treeRef\"\n              :highlight-current=\"true\"\n              :props=\"treeProps\"\n              :load=\"loadNode\"\n              @node-click=\"onOrgTreeClick\"\n              node-key=\"id\"\n              lazy\n              show-checkbox>\n            </el-tree>\n          </div>\n        </div>\n      </div>\n      <div class=\"box-list\">\n        <strong class=\"box-title\">角色列表<span v-show=\"currentUserName\">{{'-&nbsp;&nbsp;' + currentUserName}}</span></strong>\n        <el-table\n        :data=\"tableData\"\n        size=\"mini\"\n        style=\"width: 100%\">\n          <el-table-column\n              type=\"index\"\n              label=\"序号\"\n              width=\"60\">\n            <template slot-scope=\"scope\">\n              {{(page.current - 1) * page.size + scope.$index + 1}}\n            </template>\n          </el-table-column>\n          <el-table-column\n            prop=\"name\"\n            label=\"角色名称\">\n            <template slot-scope=\"scope\">\n              <el-button @click=\"onDetail(scope.row.id)\" size=\"mini\" type=\"text\">{{scope.row.name}}</el-button>\n            </template>\n          </el-table-column>\n          <el-table-column\n            prop=\"type\"\n            label=\"角色类型\">\n            <template slot-scope=\"scope\">\n              {{roleTypes[scope.row.type]}}\n            </template>\n          </el-table-column>\n          <el-table-column\n            prop=\"status\"\n            label=\"角色状态\">\n            <template slot-scope=\"scope\">\n              <span :style=\"{ color: scope.row.status == '1' ? '#00C353' : '#E96767' }\">\n                {{scope.row.status == '1' ? '已启用' : '已禁用'}}\n              </span>\n            </template>\n          </el-table-column>\n          <el-table-column\n            prop=\"created_by\"\n            label=\"创建人\">\n          </el-table-column>\n          <el-table-column\n            label=\"操作\"\n            width=\"60\">\n            <template slot-scope=\"scope\">\n              <el-button v-if=\"scope.row.type === 100\" @click=\"unBindRole(scope.row.id)\" size=\"mini\" type=\"text\">解绑</el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n        <el-pagination\n          v-show=\"page.total > page.sizes[0]\"\n          background\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n          :page-sizes=\"page.sizes\"\n          layout=\"sizes,prev,pager,next\"\n          :current-page.sync=\"page.current\"\n          :total=\"page.total\"\n          prev-text=\"上一页\"\n          next-text='下一页'>\n        </el-pagination>\n      </div>\n    </div>\n    <kye-dialog @is-show-dialog=\"showBindDialog\" width=\"772px\" :hasDialog=\"!!bindDialog.hasDialog\" :title=\"bindDialog.title\">\n      <div slot=\"body\">\n        <el-form :model=\"bindItem\" :rules=\"rules\" ref=\"ruleForm\">\n          <el-row :gutter=\"20\">\n            <el-col :span=\"12\">\n              <el-form-item prop=\"users\">\n                <strong class=\"box-title\">已选用户</strong>\n              </el-form-item>\n              <div class=\"tree-wraper bind-item\">\n                <div class=\"uzzy-search\">\n                  <el-autocomplete\n                    clearable\n                    v-model=\"bindStateUser\"\n                    :fetch-suggestions=\"queryBindUser\"\n                    placeholder=\"请输入员工姓名\"\n                    :trigger-on-focus=\"false\"\n                    @select=\"handleSelectBindUser\"\n                  >\n                    <i\n                      class=\"el-icon-search el-input__icon\"\n                      slot=\"suffix\">\n                    </i>\n                    <template slot-scope=\"{ item }\">\n                      <div class=\"name text-overflow-ellipsis\" :title=\"`${item.name}，${item.department_name}`\">{{ `${item.name}，${item.department_name}` }}</div>\n                    </template>\n                  </el-autocomplete>\n                </div>\n                <el-table\n                  :data=\"bindItem.users\"\n                  size=\"mini\"\n                  style=\"width: 100%\">\n                  <el-table-column\n                    prop=\"name\"\n                    label=\"用户名\">\n                  </el-table-column>\n                  <el-table-column\n                    prop=\"department_name\"\n                    label=\"所属部门\">\n                  </el-table-column>\n                  <el-table-column\n                    label=\"操作\"\n                    width=\"60\">\n                    <template  slot-scope=\"scope\">\n                      <el-button @click=\"handleDelUser(scope.$index)\" size=\"mini\" type=\"text\">移除</el-button>\n                    </template>\n                  </el-table-column>\n                </el-table>\n              </div>\n              <div class=\"table-filters bind-role-filter\">\n                <div class=\"filter-item\">\n                  <p class=\"item\">备注内容</p>\n                  <el-input\n                    type=\"textarea\"\n                    clearable\n                    size=\"mini\"\n                    v-model=\"bindItem.remark\"\n                    :autosize=\"{ minRows: 1, maxRows: 3}\"\n                    placeholder=\"请输入申请内容\">\n                  </el-input>\n                </div>\n              </div>\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item prop=\"roleId\">\n                <strong class=\"box-title\">角色列表</strong>\n              </el-form-item>\n              <div class=\"tree-wraper bind-tree-wraper\">\n                <div class=\"uzzy-search\">\n                  <el-autocomplete\n                    ref=\"inputRef\"\n                    clearable\n                    :fetch-suggestions=\"queryRole\"\n                    placeholder=\"请输入角色名称\"\n                    v-model=\"stateRole\"\n                    :trigger-on-focus=\"false\"\n                    @blur=\"onRoleBlur\"\n                    @select=\"handleSelectRole\"\n                  >\n                    <i\n                      class=\"el-icon-search el-input__icon\"\n                      slot=\"suffix\">\n                    </i>\n                    <template slot-scope=\"{ item }\">\n                      <div class=\"name text-overflow-ellipsis\" :title=\"`${item.name}，${item.department_name}`\">{{ `${item.name}，${item.department_name}` }}</div>\n                    </template>\n                  </el-autocomplete>\n                </div>\n                <div class=\"tree-box\">\n                  <el-tree\n                    ref=\"treeRoleRef\"\n                    :highlight-current=\"true\"\n                    :props=\"treeProps\"\n                    :load=\"loadRoleNode\"\n                    @node-click=\"onRoleTreeClick\"\n                    node-key=\"id\"\n                    lazy>\n                  </el-tree>\n                </div>\n              </div>\n            </el-col>\n          </el-row>\n        </el-form>\n      </div>\n      <div slot=\"footer\">\n        <el-button size=\"small\" @click=\"bindDialog.hasDialog = false\">取消</el-button>\n        <el-button type=\"primary\" size=\"small\" @click=\"submitForm('ruleForm')\">保存</el-button>\n      </div>\n    </kye-dialog>\n    <role-detail @is-show-dialog=\"hasDetail = false\" :item=\"item\" :role-types=\"roleTypes\" :has-detail=\"hasDetail\"></role-detail>\n  </div>\n</template>\n\n<script>\nimport API from '../../../api'\nimport TopHeader from '../../../components/header'\nimport KyeDialog from '../../../components/dialog'\nimport FilterTree from '../../../components/tree'\nimport roleDetail from '../detail'\n\nexport default {\n  components: {\n    TopHeader,\n    KyeDialog,\n    FilterTree,\n    roleDetail\n  },\n  data () {\n    return {\n      // 组织树当前选中的员工\n      currentKey: null,\n      // 角色树当前选中员工\n      currentRoleKey: null,\n      // 绑定角色信息\n      bindItem: {\n        roleId: undefined, // 角色ID\n        users: [], // 已选用户\n        remark: undefined // 备注\n      },\n      // 当前选择查询的用户\n      currentUserName: undefined,\n      // 当前选择查询的用户\n      currentRoleName: undefined,\n      // 查询的角色名称\n      stateRole: undefined,\n      // 绑定 - 查询的员工姓名\n      bindStateUser: undefined,\n      // 查询的员工姓名\n      stateUser: undefined,\n      // 查询的员工ID\n      stateUserId: undefined,\n      // 分页请求的员工ID\n      pageUserId: undefined,\n      // 是否显示详情\n      hasDetail: false,\n      // 分页\n      page: {\n        total: 0,\n        size: 10,\n        current: 1,\n        sizes: [10, 20, 50, 100]\n      },\n      // 角色列表数据\n      tableData: [],\n      // 角色属性\n      item: {\n        id: undefined,\n        name: undefined, // 角色名称\n        status: undefined, // 角色状态：1 已启用 2 已禁用\n        type: 100, // 1 权限系统管理员 2 角色管理员 3 权限审批员 4 权限申请员 5 系统审计员 100 职能角色 200 部门角色\n        department_id: undefined, // 部门ID\n        department_name: undefined, // 部门名称\n        associated_system: [], // 关联系统\n        associated_user: [] // 关联用户\n      },\n      // 弹框\n      bindDialog: {\n        hasDialog: false,\n        title: '绑定角色'\n      },\n      treeProps: {\n        label: 'name',\n        children: 'children',\n        isLeaf: 'type'\n      },\n      // 表单验证\n      rules: {\n        users: {\n          required: true,\n          trigger: 'validate-on-rule-change',\n          validator: (rule, value, callback) => {\n            if (!value || value.length === 0) {\n              callback(new Error('请添加需要绑定的用户'))\n            } else {\n              callback()\n            }\n          }\n        },\n        roleId: { required: true, message: '请选择绑定的角色', trigger: 'change' }\n      }\n    }\n  },\n  computed: {\n    // 角色类型\n    roleTypes () {\n      return this.$store.state.roleTypes\n    }\n  },\n  watch: {\n    hasDetail (val) {\n      if (!val) {\n        this.item.name = undefined\n        this.item.status = undefined\n        this.item.type = 100\n        this.item.department_id = undefined\n        this.item.department_name = undefined\n        this.item.associated_system = []\n        this.item.associated_user = []\n      }\n    },\n    // 删除用户过滤信息\n    stateUser (val) {\n      if (val === undefined || val === '') {\n        this.stateUserId = undefined\n      }\n    },\n    // 删除角色过滤信息\n    stateRole (val) {\n      if (val === undefined || val === '') {\n        if (!this.currentRoleKey) {\n          this.bindItem.roleId = undefined\n        }\n      }\n    }\n  },\n  methods: {\n    // 用户过滤查询\n    queryUser (queryString, cb) {\n      API.getUserList({ name: queryString, per_page: 10, page: 1 }).then(res => {\n        let result = res.result || {}\n        cb(result.data || [])\n      })\n    },\n    // 角色 - 用户过滤查询\n    queryRoleUser (queryString, cb) {\n      this.stateUserId = undefined\n      this.queryUser(queryString, cb)\n    },\n    // 绑定 - 用户过滤查询\n    queryBindUser (queryString, cb) {\n      this.queryUser(queryString, cb)\n    },\n    // 绑定 - 角色过滤查询\n    queryRole (queryString, cb) {\n      this.bindItem.roleId = undefined\n      API.getRoleList({ name: queryString, per_page: 10, page: 1 }).then(res => {\n        let result = res.result || {}\n        cb(result.data || [])\n      })\n    },\n    // 选择过滤的员工\n    handleSelectUser (item) {\n      this.stateUser = item.name\n      this.stateUserId = item.id\n    },\n    // 选择过滤的角色\n    handleSelectRole (item) {\n      this.stateRole = item.name\n      this.bindItem.roleId = item.id\n      this.currentRoleKey = null\n      this.$refs.treeRoleRef.setCurrentKey(null)\n    },\n    // 搜索员工角色\n    handleSearch () {\n      if (this.stateUserId === undefined) {\n        this.$refs.inputRef.focus()\n      } else {\n        this.pageUserId = this.stateUserId\n        this.currentUserName = this.stateUser\n        this.currentKey = null\n        this.$refs.treeRef.setCurrentKey(null)\n        this.page.current = 1\n        this.requestList()\n      }\n    },\n    // 获取角色列表数据\n    requestList () {\n      let params = {\n        user_id: this.pageUserId,\n        page: this.page.current,\n        per_page: this.page.size\n      }\n      API.getUserRoleList(params).then(res => {\n        let result = res.result || {}\n        this.page.total = result.pagination ? result.pagination.total_count : 0\n        this.tableData = result.data || []\n      })\n    },\n    // 解绑用户职能角色 - 部门角色不能解绑\n    unBindRole (id) {\n      let params = { user_id: this.pageUserId, role_id: id }\n      this.$confirm('确定解绑该角色？点击确定后角色将自动解绑！', '角色解绑', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消'\n      }).then(() => {\n        API.unBindRole(params).then(res => {\n          this.$message({\n            type: 'success',\n            message: '解绑成功!'\n          })\n          this.requestList()\n        })\n      })\n    },\n    // 获取每页条数\n    handleSizeChange (size) {\n      this.page.size = size\n      this.requestList()\n    },\n    // 获取当前页\n    handleCurrentChange (index) {\n      this.page.current = index\n      this.requestList()\n    },\n    // 树选择用户\n    onOrgTreeClick (data, node, el) {\n      if (data.type) {\n        this.currentKey = data.id\n        this.pageUserId = data.id\n        this.currentUserName = data.name\n        this.page.current = 1\n        this.requestList()\n        this.$refs.treeRef.setCurrentKey(data.id)\n      } else {\n        this.$refs.treeRef.setCurrentKey(this.currentKey)\n      }\n    },\n    // 树选择角色\n    onRoleTreeClick (data, node, el) {\n      if (data.type) {\n        this.currentRoleKey = data.id\n        this.bindItem.roleId = data.id\n        this.stateRole = data.name\n        this.currentRoleName = data.name\n        this.$refs.treeRoleRef.setCurrentKey(data.id)\n      } else {\n        this.$refs.treeRoleRef.setCurrentKey(this.currentRoleKey)\n      }\n    },\n    // 显示隐藏绑定角色\n    showBindDialog (bool) {\n      this.bindDialog.hasDialog = bool\n      if (!bool) {\n        this.resetForm('ruleForm')\n      }\n    },\n    // 详情弹框\n    onDetail (id) {\n      this.hasDetail = true\n      this.getRoleInfo(id)\n    },\n    // 查询角色信息\n    getRoleInfo (id) {\n      API.getRole(id).then(res => {\n        let result = res.result || {}\n        this.item.id = result.id\n        this.item.name = result.name\n        this.item.status = result.status\n        this.item.type = result.type\n        this.item.department_id = result.department_id\n        this.item.department_name = result.department_name\n        this.item.associated_system = result.associated_system\n        this.item.associated_user = result.associated_user\n        this.departmentName = result.department_name\n      })\n    },\n    // 绑定角色 - 打开绑定角色UI\n    bindRole () {\n      this.currentRoleKey = null\n      this.currentRoleName = undefined\n      this.stateRole = undefined\n      this.bindStateUser = undefined\n      this.bindItem.remark = undefined\n      this.bindItem.roleId = undefined\n      this.bindItem.users = this.$refs.treeRef.getCheckedNodes(true)\n      this.showBindDialog(true)\n    },\n    // 绑定角色 - 选择过滤的员工\n    handleSelectBindUser (item) {\n      this.bindStateUser = undefined\n      let index = this.bindItem.users.findIndex((el) => {\n        return el.id === item.id\n      })\n      if (index === -1) {\n        this.bindItem.users.push(item)\n      }\n    },\n    // 角色Input失去焦点\n    onRoleBlur () {\n      if (this.currentRoleName) {\n        this.stateRole = this.currentRoleName\n      }\n    },\n    // 绑定角色 - 移除用户\n    handleDelUser (index) {\n      this.bindItem.users.splice(index, 1)\n    },\n    // 提交表单\n    submitForm (formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          let options = {\n            role_id: this.bindItem.roleId,\n            remark: this.bindItem.remark,\n            user_ids: this.bindItem.users.map((el) => { return el.id })\n          }\n          API.bindRole(options).then(res => {\n            this.$message({\n              type: 'success',\n              message: '绑定成功!'\n            })\n            this.showBindDialog(false)\n          })\n        } else {\n          return false\n        }\n      })\n    },\n    // 重置表单\n    resetForm (formName) {\n      this.$refs[formName].resetFields()\n    },\n    // 加载用户树\n    loadNode (node, resolve) {\n      API.getOrgTree({ department_id: node.data ? node.data.id : undefined }).then(res => {\n        // type 0: 用户、 1：部门\n        let result = res.result || []\n        result.forEach((el) => {\n          el.type = !el.type\n        })\n        resolve(result)\n      })\n    },\n    // 加载角色树\n    loadRoleNode (node, resolve) {\n      API.getRoleTree({ department_id: node.data ? node.data.id : undefined }).then(res => {\n        // type 0: 角色、 1：部门\n        let result = res.result || []\n        result.forEach((el) => {\n          el.type = !el.type\n        })\n        resolve(result)\n      })\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/views/authority/userRole/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-box\"},[_c('top-header',{attrs:{\"title\":\"用户角色管理\"}},[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.bindRole()}}},[_c('svg',{staticClass:\"icon icon-svg\",attrs:{\"aria-hidden\":\"true\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-bangding\"}})]),_vm._v(\" \"),_c('span',{staticClass:\"icon-svg-txt\"},[_vm._v(\" 绑定角色\")])])],1),_vm._v(\" \"),_c('div',{staticClass:\"page-container\"},[_c('div',{staticClass:\"box-tree\"},[_c('strong',{staticClass:\"box-title\"},[_vm._v(\"组织架构\")]),_vm._v(\" \"),_c('div',{staticClass:\"tree-wraper\"},[_c('div',{staticClass:\"uzzy-search\"},[_c('el-autocomplete',{ref:\"inputRef\",attrs:{\"clearable\":\"\",\"fetch-suggestions\":_vm.queryRoleUser,\"placeholder\":\"请输入员工姓名\",\"trigger-on-focus\":false},on:{\"select\":_vm.handleSelectUser},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"name text-overflow-ellipsis\",attrs:{\"title\":((item.name) + \"，\" + (item.department_name))}},[_vm._v(_vm._s(((item.name) + \"，\" + (item.department_name))))])]}}]),model:{value:(_vm.stateUser),callback:function ($$v) {_vm.stateUser=$$v},expression:\"stateUser\"}},[_c('i',{staticClass:\"el-icon-search el-input__icon\",attrs:{\"slot\":\"suffix\"},slot:\"suffix\"})]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\",\"size\":\"small\"},on:{\"click\":_vm.handleSearch}},[_vm._v(\"查询\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"tree-box\"},[_c('el-tree',{ref:\"treeRef\",attrs:{\"highlight-current\":true,\"props\":_vm.treeProps,\"load\":_vm.loadNode,\"node-key\":\"id\",\"lazy\":\"\",\"show-checkbox\":\"\"},on:{\"node-click\":_vm.onOrgTreeClick}})],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"box-list\"},[_c('strong',{staticClass:\"box-title\"},[_vm._v(\"角色列表\"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentUserName),expression:\"currentUserName\"}]},[_vm._v(_vm._s('-  ' + _vm.currentUserName))])]),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"size\":\"mini\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\",\"width\":\"60\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s((_vm.page.current - 1) * _vm.page.size + scope.$index + 1)+\"\\n          \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"角色名称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){_vm.onDetail(scope.row.id)}}},[_vm._v(_vm._s(scope.row.name))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"type\",\"label\":\"角色类型\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(_vm.roleTypes[scope.row.type])+\"\\n          \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"角色状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{style:({ color: scope.row.status == '1' ? '#00C353' : '#E96767' })},[_vm._v(\"\\n              \"+_vm._s(scope.row.status == '1' ? '已启用' : '已禁用')+\"\\n            \")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"created_by\",\"label\":\"创建人\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"60\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.type === 100)?_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){_vm.unBindRole(scope.row.id)}}},[_vm._v(\"解绑\")]):_vm._e()]}}])})],1),_vm._v(\" \"),_c('el-pagination',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.page.total > _vm.page.sizes[0]),expression:\"page.total > page.sizes[0]\"}],attrs:{\"background\":\"\",\"page-sizes\":_vm.page.sizes,\"layout\":\"sizes,prev,pager,next\",\"current-page\":_vm.page.current,\"total\":_vm.page.total,\"prev-text\":\"上一页\",\"next-text\":\"下一页\"},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.$set(_vm.page, \"current\", $event)}}})],1)]),_vm._v(\" \"),_c('kye-dialog',{attrs:{\"width\":\"772px\",\"hasDialog\":!!_vm.bindDialog.hasDialog,\"title\":_vm.bindDialog.title},on:{\"is-show-dialog\":_vm.showBindDialog}},[_c('div',{attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('el-form',{ref:\"ruleForm\",attrs:{\"model\":_vm.bindItem,\"rules\":_vm.rules}},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"prop\":\"users\"}},[_c('strong',{staticClass:\"box-title\"},[_vm._v(\"已选用户\")])]),_vm._v(\" \"),_c('div',{staticClass:\"tree-wraper bind-item\"},[_c('div',{staticClass:\"uzzy-search\"},[_c('el-autocomplete',{attrs:{\"clearable\":\"\",\"fetch-suggestions\":_vm.queryBindUser,\"placeholder\":\"请输入员工姓名\",\"trigger-on-focus\":false},on:{\"select\":_vm.handleSelectBindUser},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"name text-overflow-ellipsis\",attrs:{\"title\":((item.name) + \"，\" + (item.department_name))}},[_vm._v(_vm._s(((item.name) + \"，\" + (item.department_name))))])]}}]),model:{value:(_vm.bindStateUser),callback:function ($$v) {_vm.bindStateUser=$$v},expression:\"bindStateUser\"}},[_c('i',{staticClass:\"el-icon-search el-input__icon\",attrs:{\"slot\":\"suffix\"},slot:\"suffix\"})])],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.bindItem.users,\"size\":\"mini\"}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"用户名\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"department_name\",\"label\":\"所属部门\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"60\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){_vm.handleDelUser(scope.$index)}}},[_vm._v(\"移除\")])]}}])})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"table-filters bind-role-filter\"},[_c('div',{staticClass:\"filter-item\"},[_c('p',{staticClass:\"item\"},[_vm._v(\"备注内容\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"type\":\"textarea\",\"clearable\":\"\",\"size\":\"mini\",\"autosize\":{ minRows: 1, maxRows: 3},\"placeholder\":\"请输入申请内容\"},model:{value:(_vm.bindItem.remark),callback:function ($$v) {_vm.$set(_vm.bindItem, \"remark\", $$v)},expression:\"bindItem.remark\"}})],1)])],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"prop\":\"roleId\"}},[_c('strong',{staticClass:\"box-title\"},[_vm._v(\"角色列表\")])]),_vm._v(\" \"),_c('div',{staticClass:\"tree-wraper bind-tree-wraper\"},[_c('div',{staticClass:\"uzzy-search\"},[_c('el-autocomplete',{ref:\"inputRef\",attrs:{\"clearable\":\"\",\"fetch-suggestions\":_vm.queryRole,\"placeholder\":\"请输入角色名称\",\"trigger-on-focus\":false},on:{\"blur\":_vm.onRoleBlur,\"select\":_vm.handleSelectRole},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"name text-overflow-ellipsis\",attrs:{\"title\":((item.name) + \"，\" + (item.department_name))}},[_vm._v(_vm._s(((item.name) + \"，\" + (item.department_name))))])]}}]),model:{value:(_vm.stateRole),callback:function ($$v) {_vm.stateRole=$$v},expression:\"stateRole\"}},[_c('i',{staticClass:\"el-icon-search el-input__icon\",attrs:{\"slot\":\"suffix\"},slot:\"suffix\"})])],1),_vm._v(\" \"),_c('div',{staticClass:\"tree-box\"},[_c('el-tree',{ref:\"treeRoleRef\",attrs:{\"highlight-current\":true,\"props\":_vm.treeProps,\"load\":_vm.loadRoleNode,\"node-key\":\"id\",\"lazy\":\"\"},on:{\"node-click\":_vm.onRoleTreeClick}})],1)])],1)],1)],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.bindDialog.hasDialog = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){_vm.submitForm('ruleForm')}}},[_vm._v(\"保存\")])],1)]),_vm._v(\" \"),_c('role-detail',{attrs:{\"item\":_vm.item,\"role-types\":_vm.roleTypes,\"has-detail\":_vm.hasDetail},on:{\"is-show-dialog\":function($event){_vm.hasDetail = false}}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-51f6d6ba\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/views/authority/userRole/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-51f6d6ba\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader!sass-resources-loader?{\\\"resources\\\":[\\\"/Users/lintaohai/workspace/urm-white/src/assets/style/variable.less\\\"]}!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-51f6d6ba\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-51f6d6ba\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/authority/userRole/index.vue\n// module id = null\n// module chunks = ","<style lang=\"less\" scoped>\n.li-item {\n  margin-bottom: 15px;\n  i {\n    display: inline-block;\n    margin-right: 8px;\n    width: 8px;\n    height: 8px;\n    border-radius: 8px;\n    background-color: #333;\n  }\n  span {\n    display: inline-block;\n    margin-right: 10px;\n    color: #333;\n  }\n}\n.system-items {\n  margin: 12px -10px 0 -10px;\n  &:after {\n    content: \"\";\n    display: block;\n    clear: both;\n    font-size: 0;\n  }\n}\n.system-item {\n  float: left;\n  margin: 0 10px 12px 10px;\n}\n.dialog-table {\n  padding-top: 0;\n}\n.detail-filters {\n  color: #999;\n  line-height: 14px;\n  .el-row {\n    margin-bottom: 16px;\n  }\n  span {\n    margin-left: 10px;\n    color: #333;\n  }\n}\n</style>\n<template>\n  <kye-dialog @is-show-dialog=\"isShowDialog\" :hasDialog=\"hasDetail\" :title=\"title\">\n    <div slot=\"body\">\n      <div class=\"detail-filters\">\n        <el-row>\n          <el-col :span=\"8\">\n            <div>角色名称<span>{{item.name}}</span></div>\n          </el-col>\n          <el-col :span=\"8\">\n            <div>角色类型<span>{{roleTypes[item.type]}}</span></div>\n          </el-col>\n          <el-col :span=\"8\">\n            <div>角色状态<span>{{item.status == '1' ? '已启用' : '已禁用'}}</span></div>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"8\">\n            <div>所属部门<span>{{item.department_name}}</span></div>\n          </el-col>\n        </el-row>\n      </div>\n      <div class=\"li-item\">\n        <i></i><span class=\"li-item-title\">关联系统</span>\n      </div>\n      <div class=\"system-items\">\n        <system-item v-for=\"(el, key) in item.associated_system\" :item=\"el\" :key=\"key\"></system-item>\n      </div>\n      <div class=\"li-item\">\n        <i></i><span class=\"li-item-title\">关联用户</span>\n      </div>\n      <div class=\"dialog-table\">\n        <el-table\n          :data=\"item.associated_user\"\n          size=\"mini\"\n          style=\"width: 100%\">\n          <el-table-column\n            type=\"index\"\n            label=\"序号\"\n            width=\"60\">\n          </el-table-column>\n          <el-table-column\n            prop=\"employee_code\"\n            label=\"工号\">\n          </el-table-column>\n          <el-table-column\n            prop=\"name\"\n            label=\"用户名\">\n          </el-table-column>\n          <el-table-column\n            prop=\"department_name\"\n            label=\"所属部门\">\n          </el-table-column>\n        </el-table>\n      </div>\n    </div>\n    <div slot=\"footer\">\n      <el-button size=\"small\" @click=\"isShowDialog\" type=\"primary\">确定</el-button>\n    </div>\n  </kye-dialog>\n</template>\n<script>\n\nimport KyeDialog from '../../components/dialog'\nimport SystemItem from '../../components/system'\n\nexport default {\n  components: {\n    KyeDialog,\n    SystemItem\n  },\n  data () {\n    return {\n    }\n  },\n  props: {\n    item: {\n      type: Object,\n      required: true\n    },\n    hasDetail: {\n      type: Boolean,\n      required: true\n    },\n    roleTypes: {\n      type: Object,\n      required: true\n    },\n    title: {\n      type: String,\n      default: '角色详情'\n    }\n  },\n  methods: {\n    isShowDialog () {\n      this.$emit('is-show-dialog', false)\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/views/authority/detail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('kye-dialog',{attrs:{\"hasDialog\":_vm.hasDetail,\"title\":_vm.title},on:{\"is-show-dialog\":_vm.isShowDialog}},[_c('div',{attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('div',{staticClass:\"detail-filters\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('div',[_vm._v(\"角色名称\"),_c('span',[_vm._v(_vm._s(_vm.item.name))])])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('div',[_vm._v(\"角色类型\"),_c('span',[_vm._v(_vm._s(_vm.roleTypes[_vm.item.type]))])])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('div',[_vm._v(\"角色状态\"),_c('span',[_vm._v(_vm._s(_vm.item.status == '1' ? '已启用' : '已禁用'))])])])],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('div',[_vm._v(\"所属部门\"),_c('span',[_vm._v(_vm._s(_vm.item.department_name))])])])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"li-item\"},[_c('i'),_c('span',{staticClass:\"li-item-title\"},[_vm._v(\"关联系统\")])]),_vm._v(\" \"),_c('div',{staticClass:\"system-items\"},_vm._l((_vm.item.associated_system),function(el,key){return _c('system-item',{key:key,attrs:{\"item\":el}})})),_vm._v(\" \"),_c('div',{staticClass:\"li-item\"},[_c('i'),_c('span',{staticClass:\"li-item-title\"},[_vm._v(\"关联用户\")])]),_vm._v(\" \"),_c('div',{staticClass:\"dialog-table\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.item.associated_user,\"size\":\"mini\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\",\"width\":\"60\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"employee_code\",\"label\":\"工号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"用户名\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"department_name\",\"label\":\"所属部门\"}})],1)],1)]),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.isShowDialog}},[_vm._v(\"确定\")])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-67a80b84\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/views/authority/detail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-67a80b84\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader!sass-resources-loader?{\\\"resources\\\":[\\\"/Users/lintaohai/workspace/urm-white/src/assets/style/variable.less\\\"]}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./detail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./detail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./detail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-67a80b84\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./detail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-67a80b84\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/authority/detail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}