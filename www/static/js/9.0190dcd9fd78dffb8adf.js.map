{"version":3,"sources":["webpack:///src/views/system-setup/approval.vue","webpack:///./src/views/system-setup/approval.vue?0450","webpack:///./src/views/system-setup/approval.vue"],"names":["approval","components","TopHeader","header","KyeDialog","dialog","data","kyeDialog","hasDialog","title","filterCondition","associated_system_id","page","per_page","handleType","approvalData","total","size","current","sizes","selectSys","defaultRuleForm","onEditEmpty","ruleForm","id","remark","approval_flow","level","approval_type","undefined","approval_user_name","approval_user_id","approval_role_id","approval_role_name","rules","required","message","trigger","restaurants","users","roles","state4","timeout","created","_this","this","JSON","parse","stringify_default","getSearchData","api","getConfigurationApprovalSys","then","res","code","result","computed","cptPagination","methods","onAdd","onReset","isShowDialog","bool","_this2","getConfigurationApprovalList","pagination","total_count","handleSizeChange","val","handleCurrentPageChange","submitForm","formName","_this3","$refs","validate","valid","console","log","addConfig","editConfig","onAddStep","index","length","tempIndex","push","onDelStep","splice","onEdit","row","_this4","getConfigurationApprovalId","resetFields","filterKey","arr","key","_this5","map","a","$utils","checkStep","querySearchAsyncUser","queryString","cb","_this6","getUserList","results","filter","createStateFilter","querySearchAsyncRole","_this7","RoleType","keys_default","$store","state","roleTypes","getRoleList","type","name","toLowerCase","indexOf","handleSelect","item","handleChange","onDelete","_this8","delConfigurationApprovalId","promise_default","resolve","form","_this9","postConfigurationApproval","$message","_this10","putConfigurationApprovalId","system_setup_approval","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","click","_v","placeholder","model","value","callback","$$v","$set","expression","_l","concat","label","icon","$event","staticStyle","width","scopedSlots","_u","fn","scope","_s","$index","prop","show-overflow-tooltip","joinName","fixed","content","scope-data","directives","rawName","background","page-sizes","layout","current-page","prev-text","next-text","size-change","current-change","update:currentPage","is-show-dialog","reset","slot","ref","inline","clearable","flowItem","checkLevel","change","selectId","stepItem","parseInt","value-key","fetch-suggestions","select","el","_e","padding-top","margin-left","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/9.0190dcd9fd78dffb8adf.js","sourcesContent":["<style lang=\"less\" scoped>\n  .li-item {\n    width: 100%;\n    margin-bottom: 10px;\n    i {\n      display: inline-block;\n      margin-right: 8px;\n      width: 8px;\n      height: 8px;\n      border-radius: 8px;\n      background-color: #333;\n    }\n    span {\n      display: inline-block;\n      margin-right: 10px;\n      color: #333;\n    }\n  }\n  .dialog-tabel-item {\n    p {\n      font-size: 12px;\n      color: #666666;\n      line-height: normal;\n      margin-bottom: 5px;\n    }\n    @{global} {\n      .el-form-item {\n        /*margin-bottom: 0;*/\n      }\n      .el-form-item{\n        margin-right: 6px;\n      }\n      .el-input__inner {\n        padding: 0 6px;\n        width: 200px;\n        font-size: 12px;\n      }\n      .el-form-item__content{\n        line-height: 30px;\n      }\n    }\n  }\n</style>\n<template>\n  <div class=\"page-box\">\n    <top-header title=\"审批流程配置\">\n       <div class=\"el-icon-plus\" @click=\"onAdd\">新增</div>\n       <!--<div class=\"el-icon-delete\" @click=\"onDel\">删除</div>-->\n    </top-header>\n    <div class=\"page-container\">\n      <div class=\"table-filters\">\n        <div class=\"filter-item\">\n          <p class=\"item\">所属系统</p>\n          <el-select v-model=\"filterCondition.associated_system_id\" size=\"small\" placeholder=\"请选择\">\n            <el-option v-for=\"(item, key) in [{name: '不限',id: ''}, ...selectSys]\" :key=\"key\" :label=\"item.name\" :value=\"item.id\"></el-option>\n          </el-select>\n        </div>\n        <div class='search-btn'>\n          <el-button type=\"primary\" size=\"small\" icon=\"el-icon-search\" @click=\"handleSizeChange()\">查询</el-button>\n        </div>\n      </div>\n      <el-table\n        :data=\"approvalData\"\n        size=\"mini\"\n        style=\"width: 100%\">\n        <el-table-column\n          label=\"序号\"\n          width=\"60\">\n          <template slot-scope=\"scope\">\n            {{(page.current - 1) * page.size + scope.$index + 1}}\n          </template>\n        </el-table-column>\n        <el-table-column\n          prop=\"associated_system_name\"\n          label=\"所属系统\">\n        </el-table-column>\n        <el-table-column\n          show-overflow-tooltip\n          label=\"审批流程\">\n          <template slot-scope=\"scope\">\n            {{$utils.joinName(filterKey(scope.row.approval_flow, 'approval_type'), ' > ')}}\n          </template>\n        </el-table-column>\n        <el-table-column\n          prop=\"remark\"\n          label=\"备注\">\n        </el-table-column>\n        <el-table-column\n          fixed=\"right\"\n          label=\"操作\"\n          width=\"90\">\n          <template slot-scope=\"scope\">\n            <el-button size=\"mini\" type=\"text\" @click=\"onEdit(scope.row)\">修改</el-button>\n            <el-button size=\"mini\" type=\"text\">\n              <kye-confirm\n                label=\"删除\"\n                title=\"删除审批流程配置\"\n                :content=\"`确定要删除${scope.row.associated_system_name}系统审批流程配置？`\"\n                :callback=\"onDelete\"\n                :scope-data=\"scope.row\">\n              </kye-confirm>\n            </el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n      <el-pagination\n        background\n        v-show=\"cptPagination\"\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentPageChange\"\n        :page-sizes=\"page.sizes\"\n        layout=\"sizes,prev,pager,next\"\n        :current-page.sync=\"page.current\"\n        :total=\"page.total\"\n        prev-text=\"上一页\"\n        next-text='下一页'>\n      </el-pagination>\n    </div>\n    <kye-dialog @is-show-dialog=\"isShowDialog\" @reset=\"onReset('ruleForm')\" :hasDialog=\"kyeDialog.hasDialog\" :title=\"kyeDialog.title\">\n      <div slot=\"body\">\n        <el-form\n          :inline=\"true\"\n          :model=\"ruleForm\"\n          :rules=\"rules\"\n          ref=\"ruleForm\">\n          <div class=\"dialog-tabel-item\">\n            <el-form-item prop=\"associated_system_id\">\n              <p>所属系统</p>\n              <el-select\n                v-model=\"ruleForm.associated_system_id\"\n                size=\"small\"\n                placeholder=\"请选择\">\n                <el-option v-for=\"item in selectSys\"\n                           :value=\"item.id\"\n                           :label=\"item.name\"\n                           :key=\"item.id\">\n                </el-option>\n              </el-select>\n            </el-form-item>\n            <el-form-item prop=\"remark\">\n              <p>备注</p>\n              <el-input v-model=\"ruleForm.remark\"\n                        clearable\n                        size=\"small\"\n                        placeholder=\"请输入备注\">\n              </el-input>\n            </el-form-item>\n          </div>\n          <div class=\"li-item\">\n            <i></i><span class=\"li-item-title\">审批节点配置</span>\n          </div>\n          <div class=\"dialog-tabel-item\" v-for=\"(flowItem, index) in ruleForm.approval_flow\" :key=\"index\">\n            <p>{{$utils.checkLevel(index+1)}}</p>\n            <el-form-item\n              :prop=\"`approval_flow[${index}].approval_type`\">\n              <el-select\n                v-model=\"ruleForm.approval_flow[index].approval_type\"\n                size=\"small\"\n                @change=\"(selectId) => {handleChange(selectId, index)}\"\n                placeholder=\"请选择\">\n                <el-option v-for=\"(stepItem, key) in $utils.checkStep()\"\n                           :value=\"parseInt(key)\"\n                           :label=\"stepItem\"\n                           :key=\"key\">\n                </el-option>\n              </el-select>\n            </el-form-item>\n            <!-- 3 指定角色 4指定人员  对应不同的查询接口-->\n            <el-form-item\n              v-if=\"ruleForm.approval_flow[index].approval_type === 3\"\n              :prop=\"`approval_flow[${index}].approval_role_name`\">\n              <el-autocomplete\n                value-key=\"name\"\n                size=\"small\"\n                clearable\n                v-model=\"ruleForm.approval_flow[index].approval_role_name\"\n                :fetch-suggestions=\"querySearchAsyncRole\"\n                placeholder=\"请输入内容\"\n                @select=\"(el) => { handleSelect(el, index, 3) }\">\n                <template slot-scope=\"{ item }\">\n                  <div class=\"name text-overflow-ellipsis\">{{item.name}}</div>\n                </template>\n              </el-autocomplete>\n            </el-form-item>\n            <el-form-item\n              v-if=\"ruleForm.approval_flow[index].approval_type === 4\"\n              :prop=\"`approval_flow[${index}].approval_user_name`\">\n              <el-autocomplete\n                value-key=\"name\"\n                size=\"small\"\n                clearable\n                v-model=\"ruleForm.approval_flow[index].approval_user_name\"\n                :fetch-suggestions=\"querySearchAsyncUser\"\n                placeholder=\"请输入内容\"\n                @select=\"(el) => { handleSelect(el, index, 4) }\">\n                <template slot-scope=\"{ item }\">\n                  <div class=\"name text-overflow-ellipsis\">{{item.name}}</div>\n                </template>\n              </el-autocomplete>\n            </el-form-item>\n            <el-form-item>\n              <div style=\"padding-top: 1px;margin-left: 10px;\">\n                <div class=\"table-btn el-icon-plus\" @click=\"onAddStep(index)\"> 新增</div>\n                <div class=\"table-btn el-icon-delete\" v-show=\"index !== 0\" @click=\"onDelStep(index)\"> 删除</div>\n              </div>\n            </el-form-item>\n          </div>\n        </el-form>\n      </div>\n      <div slot=\"footer\">\n        <el-button size=\"small\" @click=\"kyeDialog.hasDialog = false\">取消</el-button>\n        <el-button type=\"primary\" size=\"small\" @click=\"submitForm('ruleForm')\">保存</el-button>\n      </div>\n    </kye-dialog>\n  </div>\n</template>\n\n<script>\nimport api from '@/api'\nimport TopHeader from '@/components/header'\nimport KyeDialog from '@/components/dialog'\n\nexport default {\n  components: {\n    TopHeader, KyeDialog\n  },\n  data () {\n    return {\n      kyeDialog: {\n        hasDialog: false,\n        title: '新增流程配置'\n      },\n      // 查询条件\n      filterCondition: {\n        associated_system_id: '',\n        page: 1,\n        per_page: 10\n      },\n      // dialog type  ADD/EDIT\n      handleType: '',\n      approvalData: [],\n      page: {\n        total: 0,\n        size: 10,\n        current: 1,\n        sizes: [10, 20, 50, 100]\n      },\n      selectSys: [],\n      defaultRuleForm: '',\n      onEditEmpty: '',\n      ruleForm: {\n        id: 0,\n        associated_system_id: '',\n        remark: '',\n        approval_flow: [\n          {\n            level: 1,\n            approval_type: undefined,\n            approval_user_name: '',\n            approval_user_id: undefined,\n            approval_role_id: undefined,\n            approval_role_name: ''\n          }\n        ]\n      },\n      rules: {\n        associated_system_id: [{ required: true, message: '请选择系统名称', trigger: 'blur' }],\n        approval_flow: [\n          {\n            approval_type: [{ required: true, message: '请选择一级审批', trigger: 'blur' }],\n            approval_user_name: [{ required: true, message: '请输入审批人', trigger: 'change' }],\n            approval_role_name: [{ required: true, message: '请输入审批人', trigger: 'change' }]\n          },\n          {\n            approval_type: [{ required: true, message: '请选择二级审批', trigger: 'blur' }],\n            approval_user_name: [{ required: true, message: '请输入审批人', trigger: 'change' }],\n            approval_role_name: [{ required: true, message: '请输入审批人', trigger: 'change' }]\n          },\n          {\n            approval_type: [{ required: true, message: '请选择三级审批', trigger: 'blur' }],\n            approval_user_name: [{ required: true, message: '请输入审批人', trigger: 'change' }],\n            approval_role_name: [{ required: true, message: '请输入审批人', trigger: 'change' }]\n          },\n          {\n            approval_type: [{ required: true, message: '请选择四级审批', trigger: 'blur' }],\n            approval_user_name: [{ required: true, message: '请输入审批人', trigger: 'change' }],\n            approval_role_name: [{ required: true, message: '请输入审批人', trigger: 'change' }]\n          },\n          {\n            approval_type: [{ required: true, message: '请选择五级审批', trigger: 'blur' }],\n            approval_user_name: [{ required: true, message: '请输入审批人', trigger: 'change' }],\n            approval_role_name: [{ required: true, message: '请输入审批人', trigger: 'change' }]\n          }\n        ]\n      },\n      restaurants: {\n        users: [],\n        roles: []\n      },\n      state4: '',\n      timeout: null\n    }\n  },\n  created () {\n    // 保存默认数据\n    this.defaultRuleForm = JSON.parse(JSON.stringify(this.ruleForm))\n    this.getSearchData()\n    api.getConfigurationApprovalSys().then(res => {\n      if (res.code === 200) {\n        this.selectSys = res.result\n        // this.selectSys = [{'id': 1, 'name': 'ERP'}, {'id': 2, 'name': 'OA'}]\n      }\n    })\n  },\n  computed: {\n    // 如果总条数大于默认显示数\n    cptPagination: function () {\n      return this.page.total >= 10\n    }\n  },\n  methods: {\n    onAdd () {\n      this.handleType = 'ADD'\n      this.ruleForm = JSON.parse(JSON.stringify(this.defaultRuleForm))\n      this.onReset('ruleForm')\n      this.kyeDialog.title = '新增审批流程'\n      this.isShowDialog(true)\n    },\n    isShowDialog (bool) {\n      this.kyeDialog.hasDialog = bool\n    },\n    getSearchData () {\n      api.getConfigurationApprovalList(this.filterCondition).then(res => {\n        if (res.code === 200) {\n          this.approvalData = res.result.data\n          this.page.total = res.result.pagination.total_count\n        }\n      })\n    },\n    // 查询按钮 和 列表条数\n    handleSizeChange (val) {\n      // 如果val为空表示通过查询按钮触发，使用当前选中的条数\n      if (val) {\n        this.filterCondition.per_page = val\n      }\n      this.page.current = this.filterCondition.page = 1\n      this.getSearchData()\n    },\n    // 当前页\n    handleCurrentPageChange (val) {\n      this.filterCondition.page = val\n      this.getSearchData()\n    },\n    submitForm (formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          switch (this.handleType) {\n            case 'ADD':\n              this.addConfig(this.ruleForm)\n              break\n            case 'EDIT':\n              this.editConfig(this.ruleForm)\n              break\n            default:\n              console.log(this.handleType, '=====')\n          }\n        } else {\n          console.log('error submit!!')\n          return false\n        }\n      })\n    },\n    onAddStep (index) {\n      if (this.ruleForm.approval_flow.length >= 5) return\n      if (this.ruleForm.approval_flow.length > (index + 1)) return\n      let tempIndex = index + 2\n      this.ruleForm.approval_flow.push({\n        level: tempIndex,\n        approval_type: undefined,\n        approval_user_name: '',\n        approval_user_id: undefined,\n        approval_role_id: undefined,\n        approval_role_name: ''\n      })\n    },\n    onDelStep (index) {\n      this.ruleForm.approval_flow.splice(index, 1)\n    },\n    onEdit (row) {\n      this.handleType = 'EDIT'\n      api.getConfigurationApprovalId({id: row.id}).then(res => {\n        if (res.code === 200) {\n          this.ruleForm = res.result\n          this.kyeDialog.title = '修改审批流程'\n          this.isShowDialog(true)\n        }\n      })\n    },\n    onReset (formName) {\n      if (!this.$refs[formName]) return false\n      this.$refs[formName].resetFields()\n    },\n    filterKey (arr, key) {\n      return arr.map(a => this.$utils.checkStep(a[[key]]))\n    },\n    querySearchAsyncUser (queryString, cb) {\n      api.getUserList().then(res => {\n        let restaurants = res.result.data\n        let results = queryString ? restaurants.filter(this.createStateFilter(queryString)) : restaurants\n        cb(results)\n      })\n    },\n    querySearchAsyncRole (queryString, cb) {\n      let RoleType = Object.keys(this.$store.state.roleTypes)[5]\n      api.getRoleList({type: RoleType}).then(res => {\n        let restaurants = res.result.data\n        let results = queryString ? restaurants.filter(this.createStateFilter(queryString)) : restaurants\n        cb(results)\n      })\n    },\n    createStateFilter (queryString) {\n      return (state) => {\n        return (state.name.toLowerCase().indexOf(queryString.toLowerCase()) === 0)\n      }\n    },\n    handleSelect (item, index, type) {\n      // 3:指定角色 4:指定人员\n      if (type === 3) {\n        this.ruleForm.approval_flow[index].approval_role_id = item.id\n      } else {\n        this.ruleForm.approval_flow[index].approval_user_id = item.id\n      }\n    },\n    handleChange (id, index) {\n      // this.ruleForm.approval_flow[index].approval_user_name = ''\n      // this.ruleForm.approval_flow[index].approval_role_name = ''\n    },\n    onDelete (id) {\n      return api.delConfigurationApprovalId(id).then(res => {\n        if (res.code === 200) {\n          this.getSearchData()\n          return Promise.resolve(true)\n        } else {\n          return Promise.resolve(false)\n        }\n      })\n    },\n    addConfig (form) {\n      api.postConfigurationApproval(form).then(res => {\n        if (res.code === 200) {\n          this.getSearchData()\n          this.isShowDialog(false)\n          this.$message({\n            message: '操作成功',\n            type: 'success'\n          })\n        }\n      })\n    },\n    editConfig (form) {\n      console.log('========', form)\n      api.putConfigurationApprovalId(form.id, form).then(res => {\n        if (res.code === 200) {\n          this.getSearchData()\n          this.isShowDialog(false)\n          this.$message({\n            message: '操作成功',\n            type: 'success'\n          })\n        }\n      })\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/views/system-setup/approval.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-box\"},[_c('top-header',{attrs:{\"title\":\"审批流程配置\"}},[_c('div',{staticClass:\"el-icon-plus\",on:{\"click\":_vm.onAdd}},[_vm._v(\"新增\")])]),_vm._v(\" \"),_c('div',{staticClass:\"page-container\"},[_c('div',{staticClass:\"table-filters\"},[_c('div',{staticClass:\"filter-item\"},[_c('p',{staticClass:\"item\"},[_vm._v(\"所属系统\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"size\":\"small\",\"placeholder\":\"请选择\"},model:{value:(_vm.filterCondition.associated_system_id),callback:function ($$v) {_vm.$set(_vm.filterCondition, \"associated_system_id\", $$v)},expression:\"filterCondition.associated_system_id\"}},_vm._l(([{name: '不限',id: ''} ].concat( _vm.selectSys)),function(item,key){return _c('el-option',{key:key,attrs:{\"label\":item.name,\"value\":item.id}})}))],1),_vm._v(\" \"),_c('div',{staticClass:\"search-btn\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"el-icon-search\"},on:{\"click\":function($event){_vm.handleSizeChange()}}},[_vm._v(\"查询\")])],1)]),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.approvalData,\"size\":\"mini\"}},[_c('el-table-column',{attrs:{\"label\":\"序号\",\"width\":\"60\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n          \"+_vm._s((_vm.page.current - 1) * _vm.page.size + scope.$index + 1)+\"\\n        \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"associated_system_name\",\"label\":\"所属系统\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":\"\",\"label\":\"审批流程\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n          \"+_vm._s(_vm.$utils.joinName(_vm.filterKey(scope.row.approval_flow, 'approval_type'), ' > '))+\"\\n        \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"remark\",\"label\":\"备注\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"90\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){_vm.onEdit(scope.row)}}},[_vm._v(\"修改\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"}},[_c('kye-confirm',{attrs:{\"label\":\"删除\",\"title\":\"删除审批流程配置\",\"content\":(\"确定要删除\" + (scope.row.associated_system_name) + \"系统审批流程配置？\"),\"callback\":_vm.onDelete,\"scope-data\":scope.row}})],1)]}}])})],1),_vm._v(\" \"),_c('el-pagination',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.cptPagination),expression:\"cptPagination\"}],attrs:{\"background\":\"\",\"page-sizes\":_vm.page.sizes,\"layout\":\"sizes,prev,pager,next\",\"current-page\":_vm.page.current,\"total\":_vm.page.total,\"prev-text\":\"上一页\",\"next-text\":\"下一页\"},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentPageChange,\"update:currentPage\":function($event){_vm.$set(_vm.page, \"current\", $event)}}})],1),_vm._v(\" \"),_c('kye-dialog',{attrs:{\"hasDialog\":_vm.kyeDialog.hasDialog,\"title\":_vm.kyeDialog.title},on:{\"is-show-dialog\":_vm.isShowDialog,\"reset\":function($event){_vm.onReset('ruleForm')}}},[_c('div',{attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('el-form',{ref:\"ruleForm\",attrs:{\"inline\":true,\"model\":_vm.ruleForm,\"rules\":_vm.rules}},[_c('div',{staticClass:\"dialog-tabel-item\"},[_c('el-form-item',{attrs:{\"prop\":\"associated_system_id\"}},[_c('p',[_vm._v(\"所属系统\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"size\":\"small\",\"placeholder\":\"请选择\"},model:{value:(_vm.ruleForm.associated_system_id),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"associated_system_id\", $$v)},expression:\"ruleForm.associated_system_id\"}},_vm._l((_vm.selectSys),function(item){return _c('el-option',{key:item.id,attrs:{\"value\":item.id,\"label\":item.name}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"remark\"}},[_c('p',[_vm._v(\"备注\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"clearable\":\"\",\"size\":\"small\",\"placeholder\":\"请输入备注\"},model:{value:(_vm.ruleForm.remark),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"remark\", $$v)},expression:\"ruleForm.remark\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"li-item\"},[_c('i'),_c('span',{staticClass:\"li-item-title\"},[_vm._v(\"审批节点配置\")])]),_vm._v(\" \"),_vm._l((_vm.ruleForm.approval_flow),function(flowItem,index){return _c('div',{key:index,staticClass:\"dialog-tabel-item\"},[_c('p',[_vm._v(_vm._s(_vm.$utils.checkLevel(index+1)))]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":(\"approval_flow[\" + index + \"].approval_type\")}},[_c('el-select',{attrs:{\"size\":\"small\",\"placeholder\":\"请选择\"},on:{\"change\":function (selectId) {_vm.handleChange(selectId, index)}},model:{value:(_vm.ruleForm.approval_flow[index].approval_type),callback:function ($$v) {_vm.$set(_vm.ruleForm.approval_flow[index], \"approval_type\", $$v)},expression:\"ruleForm.approval_flow[index].approval_type\"}},_vm._l((_vm.$utils.checkStep()),function(stepItem,key){return _c('el-option',{key:key,attrs:{\"value\":parseInt(key),\"label\":stepItem}})}))],1),_vm._v(\" \"),(_vm.ruleForm.approval_flow[index].approval_type === 3)?_c('el-form-item',{attrs:{\"prop\":(\"approval_flow[\" + index + \"].approval_role_name\")}},[_c('el-autocomplete',{attrs:{\"value-key\":\"name\",\"size\":\"small\",\"clearable\":\"\",\"fetch-suggestions\":_vm.querySearchAsyncRole,\"placeholder\":\"请输入内容\"},on:{\"select\":function (el) { _vm.handleSelect(el, index, 3) }},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"name text-overflow-ellipsis\"},[_vm._v(_vm._s(item.name))])]}}]),model:{value:(_vm.ruleForm.approval_flow[index].approval_role_name),callback:function ($$v) {_vm.$set(_vm.ruleForm.approval_flow[index], \"approval_role_name\", $$v)},expression:\"ruleForm.approval_flow[index].approval_role_name\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.ruleForm.approval_flow[index].approval_type === 4)?_c('el-form-item',{attrs:{\"prop\":(\"approval_flow[\" + index + \"].approval_user_name\")}},[_c('el-autocomplete',{attrs:{\"value-key\":\"name\",\"size\":\"small\",\"clearable\":\"\",\"fetch-suggestions\":_vm.querySearchAsyncUser,\"placeholder\":\"请输入内容\"},on:{\"select\":function (el) { _vm.handleSelect(el, index, 4) }},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"name text-overflow-ellipsis\"},[_vm._v(_vm._s(item.name))])]}}]),model:{value:(_vm.ruleForm.approval_flow[index].approval_user_name),callback:function ($$v) {_vm.$set(_vm.ruleForm.approval_flow[index], \"approval_user_name\", $$v)},expression:\"ruleForm.approval_flow[index].approval_user_name\"}})],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',[_c('div',{staticStyle:{\"padding-top\":\"1px\",\"margin-left\":\"10px\"}},[_c('div',{staticClass:\"table-btn el-icon-plus\",on:{\"click\":function($event){_vm.onAddStep(index)}}},[_vm._v(\" 新增\")]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(index !== 0),expression:\"index !== 0\"}],staticClass:\"table-btn el-icon-delete\",on:{\"click\":function($event){_vm.onDelStep(index)}}},[_vm._v(\" 删除\")])])])],1)})],2)],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.kyeDialog.hasDialog = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){_vm.submitForm('ruleForm')}}},[_vm._v(\"保存\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-6d4cc6cc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/views/system-setup/approval.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6d4cc6cc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader!sass-resources-loader?{\\\"resources\\\":[\\\"/Users/lintaohai/workspace/urm-white/src/assets/style/variable.less\\\"]}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./approval.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./approval.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./approval.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6d4cc6cc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./approval.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6d4cc6cc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/system-setup/approval.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}