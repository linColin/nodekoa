{"version":3,"sources":["webpack:///src/views/account-management/login-setup.vue","webpack:///./src/views/account-management/login-setup.vue?8715","webpack:///./src/views/account-management/login-setup.vue"],"names":["components","SystemItem","system","FilterTree","tree","KyeDialog","dialog","data","page","total","size","current","sizes","tableData","currentName","undefined","filterCondition","employee_code","user_name","position","department_name","currentKey","systems","kyeDialog","hasDialog","title","ruleForm","id","associated_system_id","remark","checked","endTime","loginType","1","name","2","3","4","rules","required","message","trigger","approval_flow","approval_type","approval_user_name","approval_role_name","pickerOptions","disabledDate","time","getTime","Date","now","shortcuts","text","onClick","picker","date","setTime","$emit","created","this","$API","getLoginsetupList","then","res","console","log","methods","isShowDialog","bool","onAdd","requestList","_this","params","extends_default","per_page","getSystemUsers","result","pagination","total_count","searchList","$message","type","$refs","treeRef","filterInput","focus","handleSizeChange","handleCurrentChange","index","requestSystemTree","_this2","searchSys","children","forEach","el","push","handleNodeClick","node","isLeaf","setCurrentKey","beforeMount","onEdit","row","account_management_login_setup","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","click","_v","ref","default-expand-all","placeholder","node-click","directives","rawName","value","expression","_s","clearable","model","callback","$$v","$set","icon","staticStyle","width","label","scopedSlots","_u","key","fn","scope","$index","prop","_f","updated_at","fixed","$event","background","page-sizes","layout","current-page","prev-text","next-text","size-change","current-change","update:currentPage","is-show-dialog","reset","onReset","slot","inline","picker-options","_l","item","submitForm","staticRenderFns","Component","__webpack_require__","normalizeComponent","login_setup","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/15.5837406a0bef0c88660d.js","sourcesContent":["<style lang=\"less\" scoped>\n  .user-box {\n    &:after {\n      display: block;\n      content: \"\";\n      font-size: 0;\n      clear: both;\n    }\n  }\n  .box-tree {\n    float: left;\n    width: 356px;\n  }\n  .box-list {\n    margin-left: 376px;\n  }\n  .box-title {\n    margin-bottom: 20px;\n    padding: 0 12px;\n    display: block;\n    height: 30px;\n    line-height: 30px;\n    font-size: 14px;\n    background-color: #f1f3f5;\n    span {\n      margin-left: 12px;\n      font-size: 12px;\n      color: #909399;\n    }\n  }\n  .tree-wraper {\n    padding: 20px;\n    border: 1px solid #DCDAE2;\n    border-radius: 4px;\n  }\n  .uzzy-search {\n    display: flex;\n    padding-bottom: 10px;\n    @{global} {\n      .el-button {\n        margin-left: 10px;\n      }\n      .el-autocomplete {\n        flex: 1;\n        .el-input__inner{\n          height: 32px;\n          line-height: 32px;\n          font-size: 12px;\n          padding: 0 10px;\n        }\n      }\n    }\n  }\n  .tree-box {\n    overflow: auto;\n    height: calc(100vh - 188px);\n    @{global} {\n      .el-tree-node>.el-tree-node__children {\n        overflow: inherit;\n      }\n      .tree-content {\n        margin: 0 -14px 0 -6px;\n        width: calc(100% + 20px);\n      }\n    }\n  }\n  .filter-tree-box {\n    position: relative;\n    height: 100%;\n  }\n  .li-item {\n    margin-bottom: 15px;\n    i {\n      display: inline-block;\n      margin-right: 8px;\n      width: 8px;\n      height: 8px;\n      border-radius: 8px;\n      background-color: #333;\n    }\n    span {\n      display: inline-block;\n      margin-right: 10px;\n      color: #333;\n    }\n  }\n  .system-items {\n    margin: 12px -10px 10px -10px;\n    overflow: hidden;\n    .system-item {\n      float: left;\n      margin: 0 10px 12px 10px;\n    }\n  }\n  .filter-item {\n    position: relative;\n    width: 200px;\n  }\n  .dialog-tabel-item {\n    p {\n      font-size: 12px;\n      color: #666666;\n      line-height: normal;\n      margin-bottom: 5px;\n    }\n    @{global} {\n      .el-form-item{\n        margin-right: 6px;\n        &:last-child{\n          margin-right: 0;\n        }\n      }\n      .el-input__inner {\n        padding: 0 6px;\n        width: 200px;\n        font-size: 12px;\n      }\n      .el-form-item__content{\n        line-height: 30px;\n      }\n      .el-date-editor.el-input {\n        .el-input__inner {\n          padding: 0 30px;\n        }\n      }\n    }\n  }\n</style>\n<template>\n  <div class=\"page-box\">\n    <top-header title=\"登录方式列表\">\n      <div class=\"el-icon-plus\" @click=\"onAdd\">新增</div>\n    </top-header>\n    <div class=\"page-container\">\n      <div class=\"box-tree\">\n        <strong class=\"box-title\">系统列表</strong>\n        <div class=\"tree-wraper\">\n          <div class=\"tree-box\">\n            <div class=\"filter-tree-box\">\n              <filter-tree @node-click=\"handleNodeClick\" :default-expand-all=\"true\" ref=\"treeRef\" :data=\"systems\" placeholder=\"请输入系统名称\"> </filter-tree>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"box-list\">\n        <strong class=\"box-title\">员工列表<span v-show=\"currentName\">{{'-&nbsp;&nbsp;' + currentName}}</span></strong>\n        <div class=\"user-box\">\n          <div class=\"table-filters\">\n            <div class=\"filter-item\">\n              <p class=\"item\">工号</p>\n              <el-input v-model=\"filterCondition.employee_code\"\n                        clearable\n                        size=\"small\"\n                        placeholder=\"请输入\"></el-input>\n            </div>\n            <div class=\"filter-item\">\n              <p class=\"item\">姓名</p>\n              <el-input v-model=\"filterCondition.user_name\"\n                        clearable\n                        size=\"small\"\n                        placeholder=\"请输入\"></el-input>\n            </div>\n            <div class=\"filter-item\">\n              <p class=\"item\">部门</p>\n              <el-input v-model=\"filterCondition.department_name\"\n                        clearable\n                        size=\"small\"\n                        placeholder=\"请输入\"></el-input>\n            </div>\n            <div class='search-btn'>\n              <el-button type=\"primary\"\n                         size=\"small\"\n                         icon=\"el-icon-search\"\n                         @click=\"searchList\">查询\n              </el-button>\n            </div>\n          </div>\n          <el-table\n            :data=\"tableData\"\n            size=\"mini\"\n            style=\"width: 100%\">\n            <el-table-column\n              type=\"index\"\n              label=\"序号\"\n              width=\"60\">\n              <template slot-scope=\"scope\">\n                {{(page.current - 1) * page.size + scope.$index + 1}}\n              </template>\n            </el-table-column>\n            <el-table-column\n              prop=\"employee_code\"\n              label=\"工号\">\n            </el-table-column>\n            <el-table-column\n              prop=\"user_name\"\n              label=\"姓名\">\n            </el-table-column>\n            <el-table-column\n              prop=\"department_name\"\n              label=\"部门\">\n            </el-table-column>\n            <el-table-column\n              prop=\"department_name\"\n              label=\"登录方式\">\n            </el-table-column>\n            <el-table-column\n              prop=\"department_name\"\n              label=\"配置时间\">\n            </el-table-column>\n            <el-table-column\n              prop=\"registered_at\"\n              label=\"截止时间\"\n              width=\"125\">\n              <template slot-scope=\"scope\">\n                {{scope.row.updated_at | datetime}}\n              </template>\n            </el-table-column>\n            <el-table-column\n              fixed=\"right\"\n              label=\"操作\"\n              width=\"60\">\n              <template slot-scope=\"scope\">\n                <el-button size=\"mini\" type=\"text\" @click=\"onEdit(scope.row)\">修改</el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n          <el-pagination\n            background\n            v-show=\"page.total > page.sizes[0]\"\n            @size-change=\"handleSizeChange\"\n            @current-change=\"handleCurrentChange\"\n            :page-sizes=\"page.sizes\"\n            layout=\"sizes,prev,pager,next\"\n            :current-page.sync=\"page.current\"\n            :total=\"page.total\"\n            prev-text=\"上一页\"\n            next-text='下一页'>\n          </el-pagination>\n        </div>\n      </div>\n    </div>\n    <kye-dialog\n      width=\"450px\"\n      @is-show-dialog=\"isShowDialog\"\n      @reset=\"onReset('ruleForm')\"\n      :hasDialog=\"kyeDialog.hasDialog\"\n      :title=\"kyeDialog.title\">\n      <div slot=\"body\">\n        <el-form\n          :inline=\"true\"\n          :model=\"ruleForm\"\n          :rules=\"rules\"\n          ref=\"ruleForm\">\n          <div class=\"dialog-tabel-item\">\n            <el-form-item prop=\"associated_system_id\">\n              <p>所属系统</p>\n              <el-input v-model=\"ruleForm.remark\"\n                        clearable\n                        size=\"small\"\n                        placeholder=\"请输入备注\">\n              </el-input>\n            </el-form-item>\n            <el-form-item prop=\"remark\">\n              <p>所属部门</p>\n              <el-input v-model=\"ruleForm.remark\"\n                        clearable\n                        size=\"small\"\n                        placeholder=\"请输入备注\">\n              </el-input>\n            </el-form-item>\n          </div>\n          <div class=\"dialog-tabel-item\">\n            <p>截止时间</p>\n            <el-form-item prop=\"endTime\">\n              <el-date-picker\n                size=\"small\"\n                :clearable=\"false\"\n                v-model=\"ruleForm.endTime\"\n                type=\"date\"\n                placeholder=\"长期有效\"\n                :picker-options=\"pickerOptions\">>\n              </el-date-picker>\n            </el-form-item>\n          </div>\n          <div class=\"dialog-tabel-item\">\n            <el-form-item prop=\"checked\">\n              <p>默认登录方式</p>\n              <el-select\n                v-model=\"ruleForm.checked\"\n                size=\"small\"\n                placeholder=\"请选择\">\n                <el-option v-for=\"(item, index) in loginType\"\n                           :value=\"index + 1\"\n                           :label=\"item.name\"\n                           :key=\"index\">\n                </el-option>\n              </el-select>\n            </el-form-item>\n          </div>\n        </el-form>\n      </div>\n      <div slot=\"footer\">\n        <el-button size=\"small\" @click=\"kyeDialog.hasDialog = false\">取消</el-button>\n        <el-button type=\"primary\" size=\"small\" @click=\"submitForm('ruleForm')\">保存</el-button>\n      </div>\n    </kye-dialog>\n  </div>\n</template>\n\n<script>\nimport SystemItem from '@/components/system'\nimport FilterTree from '@/components/tree'\nimport KyeDialog from '@/components/dialog'\n\nexport default {\n  components: {\n    SystemItem,\n    FilterTree,\n    KyeDialog\n  },\n  data () {\n    return {\n      // 分页\n      page: {\n        total: 0,\n        size: 10,\n        current: 1,\n        sizes: [10, 20, 50, 100]\n      },\n      // 列表数据\n      tableData: [],\n      // 当前选择查询的用户\n      currentName: undefined,\n      // 查询条件\n      filterCondition: {\n        employee_code: undefined, // 工号\n        user_name: undefined, // 姓名\n        position: undefined, // 职位\n        department_name: undefined // 部门\n      },\n\n      // 树当前选中的员工\n      currentKey: null,\n      // 树信息\n      systems: [],\n      kyeDialog: {\n        hasDialog: false,\n        title: '新增'\n      },\n      ruleForm: {\n        id: 0,\n        associated_system_id: '',\n        remark: '',\n        checked: [],\n        endTime: ''\n      },\n      loginType: {\n        1: {name: '账号密码登录'},\n        2: {name: '手机验证码登录'},\n        3: {name: '账号密码或手机验证码登录'},\n        4: {name: '账号密码和手机验证码登录'}\n      },\n      rules: {\n        associated_system_id: [{ required: true, message: '请选择系统名称', trigger: 'blur' }],\n        approval_flow: [\n          {\n            approval_type: [{ required: true, message: '请选择一级审批', trigger: 'blur' }],\n            approval_user_name: [{ required: true, message: '请输入审批人', trigger: 'change' }],\n            approval_role_name: [{ required: true, message: '请输入审批人', trigger: 'change' }]\n          }\n        ]\n      },\n      pickerOptions: {\n        disabledDate (time) {\n          return time.getTime() < Date.now()\n        },\n        shortcuts: [{\n          text: '长期有效',\n          onClick (picker) {\n            const date = new Date()\n            date.setTime(date.getTime() + 3600 * 1000 * 24 * 10000)\n            picker.$emit('pick', '')\n          }\n        }]\n      }\n    }\n  },\n  created () {\n    this.$API.getLoginsetupList().then(res => {\n      console.log(res)\n    })\n  },\n  methods: {\n    isShowDialog (bool) {\n      this.kyeDialog.hasDialog = bool\n    },\n    onAdd () {\n      this.isShowDialog(true)\n    },\n    // 获取列表数据\n    requestList () {\n      let params = {\n        ...this.filterCondition,\n        page: this.page.current,\n        per_page: this.page.size\n      }\n      this.$API.getSystemUsers(this.currentKey, params).then(res => {\n        let result = res.result || {}\n        this.page.total = result.pagination ? result.pagination.total_count : 0\n        this.tableData = result.data || []\n      })\n    },\n    // 查询\n    searchList () {\n      if (!this.currentKey) {\n        this.$message({\n          type: 'warning',\n          message: '请先选择一个系统!'\n        })\n        this.$refs.treeRef.$refs.filterInput.focus()\n        return\n      }\n      this.page.current = 1\n      this.requestList()\n    },\n    // 获取每页条数\n    handleSizeChange (size) {\n      this.page.size = size\n      this.requestList()\n    },\n    // 获取当前页\n    handleCurrentChange (index) {\n      this.page.current = index\n      this.requestList()\n    },\n    // 获取部门数据\n    requestSystemTree () {\n      this.$API.searchSys({ per_page: 1000, page: 1 }).then(res => {\n        let result = res.result || {}\n        let systems = [\n          {\n            id: -1,\n            name: '基本系统',\n            children: []\n          }, {\n            id: -2,\n            name: '业务系统',\n            children: []\n          }\n        ]\n        let data = result.data || []\n        data.forEach(el => {\n          if (el.type === 1) {\n            systems[0].children.push(el)\n          } else {\n            systems[1].children.push(el)\n          }\n        })\n        this.systems = systems\n      })\n    },\n    // 点击查询用户\n    handleNodeClick (data, node, el) {\n      if (node.isLeaf) {\n        this.filterCondition.employee_code = undefined\n        this.filterCondition.user_name = undefined\n        this.filterCondition.position = undefined\n        this.filterCondition.department_name = undefined\n        this.currentKey = data.id\n        this.currentName = data.name\n        this.page.current = 1\n        this.requestList()\n        this.$refs.treeRef.$refs.tree.setCurrentKey(data.id)\n      } else {\n        this.$refs.treeRef.$refs.tree.setCurrentKey(this.currentKey)\n      }\n    }\n  },\n  beforeMount () {\n    this.requestSystemTree()\n  },\n  onEdit (row) {\n    // this.handleType = 'EDIT'\n    // api.getConfigurationApprovalId({id: row.id}).then(res => {\n    //   if (res.code === 200) {\n    //     this.ruleForm = res.result\n    //     this.kyeDialog.title = '修改审批流程'\n    //     this.isShowDialog(true)\n    //   }\n    // })\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/views/account-management/login-setup.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-box\"},[_c('top-header',{attrs:{\"title\":\"登录方式列表\"}},[_c('div',{staticClass:\"el-icon-plus\",on:{\"click\":_vm.onAdd}},[_vm._v(\"新增\")])]),_vm._v(\" \"),_c('div',{staticClass:\"page-container\"},[_c('div',{staticClass:\"box-tree\"},[_c('strong',{staticClass:\"box-title\"},[_vm._v(\"系统列表\")]),_vm._v(\" \"),_c('div',{staticClass:\"tree-wraper\"},[_c('div',{staticClass:\"tree-box\"},[_c('div',{staticClass:\"filter-tree-box\"},[_c('filter-tree',{ref:\"treeRef\",attrs:{\"default-expand-all\":true,\"data\":_vm.systems,\"placeholder\":\"请输入系统名称\"},on:{\"node-click\":_vm.handleNodeClick}})],1)])])]),_vm._v(\" \"),_c('div',{staticClass:\"box-list\"},[_c('strong',{staticClass:\"box-title\"},[_vm._v(\"员工列表\"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentName),expression:\"currentName\"}]},[_vm._v(_vm._s('-  ' + _vm.currentName))])]),_vm._v(\" \"),_c('div',{staticClass:\"user-box\"},[_c('div',{staticClass:\"table-filters\"},[_c('div',{staticClass:\"filter-item\"},[_c('p',{staticClass:\"item\"},[_vm._v(\"工号\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"clearable\":\"\",\"size\":\"small\",\"placeholder\":\"请输入\"},model:{value:(_vm.filterCondition.employee_code),callback:function ($$v) {_vm.$set(_vm.filterCondition, \"employee_code\", $$v)},expression:\"filterCondition.employee_code\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"filter-item\"},[_c('p',{staticClass:\"item\"},[_vm._v(\"姓名\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"clearable\":\"\",\"size\":\"small\",\"placeholder\":\"请输入\"},model:{value:(_vm.filterCondition.user_name),callback:function ($$v) {_vm.$set(_vm.filterCondition, \"user_name\", $$v)},expression:\"filterCondition.user_name\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"filter-item\"},[_c('p',{staticClass:\"item\"},[_vm._v(\"部门\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"clearable\":\"\",\"size\":\"small\",\"placeholder\":\"请输入\"},model:{value:(_vm.filterCondition.department_name),callback:function ($$v) {_vm.$set(_vm.filterCondition, \"department_name\", $$v)},expression:\"filterCondition.department_name\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"search-btn\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.searchList}},[_vm._v(\"查询\\n            \")])],1)]),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"size\":\"mini\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\",\"width\":\"60\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n              \"+_vm._s((_vm.page.current - 1) * _vm.page.size + scope.$index + 1)+\"\\n            \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"employee_code\",\"label\":\"工号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"user_name\",\"label\":\"姓名\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"department_name\",\"label\":\"部门\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"department_name\",\"label\":\"登录方式\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"department_name\",\"label\":\"配置时间\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"registered_at\",\"label\":\"截止时间\",\"width\":\"125\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n              \"+_vm._s(_vm._f(\"datetime\")(scope.row.updated_at))+\"\\n            \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"60\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){_vm.onEdit(scope.row)}}},[_vm._v(\"修改\")])]}}])})],1),_vm._v(\" \"),_c('el-pagination',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.page.total > _vm.page.sizes[0]),expression:\"page.total > page.sizes[0]\"}],attrs:{\"background\":\"\",\"page-sizes\":_vm.page.sizes,\"layout\":\"sizes,prev,pager,next\",\"current-page\":_vm.page.current,\"total\":_vm.page.total,\"prev-text\":\"上一页\",\"next-text\":\"下一页\"},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.$set(_vm.page, \"current\", $event)}}})],1)])]),_vm._v(\" \"),_c('kye-dialog',{attrs:{\"width\":\"450px\",\"hasDialog\":_vm.kyeDialog.hasDialog,\"title\":_vm.kyeDialog.title},on:{\"is-show-dialog\":_vm.isShowDialog,\"reset\":function($event){_vm.onReset('ruleForm')}}},[_c('div',{attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('el-form',{ref:\"ruleForm\",attrs:{\"inline\":true,\"model\":_vm.ruleForm,\"rules\":_vm.rules}},[_c('div',{staticClass:\"dialog-tabel-item\"},[_c('el-form-item',{attrs:{\"prop\":\"associated_system_id\"}},[_c('p',[_vm._v(\"所属系统\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"clearable\":\"\",\"size\":\"small\",\"placeholder\":\"请输入备注\"},model:{value:(_vm.ruleForm.remark),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"remark\", $$v)},expression:\"ruleForm.remark\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"remark\"}},[_c('p',[_vm._v(\"所属部门\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"clearable\":\"\",\"size\":\"small\",\"placeholder\":\"请输入备注\"},model:{value:(_vm.ruleForm.remark),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"remark\", $$v)},expression:\"ruleForm.remark\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-tabel-item\"},[_c('p',[_vm._v(\"截止时间\")]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"endTime\"}},[_c('el-date-picker',{attrs:{\"size\":\"small\",\"clearable\":false,\"type\":\"date\",\"placeholder\":\"长期有效\",\"picker-options\":_vm.pickerOptions},model:{value:(_vm.ruleForm.endTime),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"endTime\", $$v)},expression:\"ruleForm.endTime\"}},[_vm._v(\">\\n            \")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-tabel-item\"},[_c('el-form-item',{attrs:{\"prop\":\"checked\"}},[_c('p',[_vm._v(\"默认登录方式\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"size\":\"small\",\"placeholder\":\"请选择\"},model:{value:(_vm.ruleForm.checked),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"checked\", $$v)},expression:\"ruleForm.checked\"}},_vm._l((_vm.loginType),function(item,index){return _c('el-option',{key:index,attrs:{\"value\":index + 1,\"label\":item.name}})}))],1)],1)])],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.kyeDialog.hasDialog = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){_vm.submitForm('ruleForm')}}},[_vm._v(\"保存\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-2e7ac145\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/views/account-management/login-setup.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2e7ac145\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader!sass-resources-loader?{\\\"resources\\\":[\\\"/Users/lintaohai/workspace/urm-white/src/assets/style/variable.less\\\"]}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./login-setup.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./login-setup.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./login-setup.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2e7ac145\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./login-setup.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2e7ac145\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/account-management/login-setup.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}