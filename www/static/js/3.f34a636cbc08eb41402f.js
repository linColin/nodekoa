webpackJsonp([3],{PMJ1:function(t,a){},hpcr:function(t,a,s){"use strict";var e={data:function(){return{}},props:{title:{type:String,required:!0}}},n={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("el-header",[s("div",{staticClass:"header-icon"},[s("div",{staticClass:"icon-box",on:{click:function(a){t.$router.go(-1)}}},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-back"}})])]),t._v(" "),s("div",{staticClass:"fl title"},[t._v(t._s(t.title))]),t._v(" "),s("div",{staticClass:"fr link"},[t._t("default")],2)])])},staticRenderFns:[]};var i=s("vSla")(e,n,!1,function(t){s("PMJ1")},"data-v-cdf43dde",null);a.a=i.exports},sa27:function(t,a){},x0Jm:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=s("rVsN"),n=s.n(e),i=s("hpcr"),l=s("gyMJ"),c={components:{TopHeaderBack:i.a},props:["id"],data:function(){return{pageData:"",flow:[],tableData:[],applicationId:void 0}},created:function(){this.nit()},methods:{handlePass:function(t){var a=this;return l.a.putApprovalId(t).then(function(t){return 200===t.code?(a.nit(),n.a.resolve(!0)):n.a.resolve(!1)})},handleReject:function(t,a){var s=this,e={content:a};return l.a.patchApprovalId(t,e).then(function(t){return 200===t.code?(s.nit(),n.a.resolve(!0)):n.a.resolve(!1)})},nit:function(){var t=this;this.applicationId=this.$route.params.id,l.a.getApprovalId(this.applicationId).then(function(a){t.pageData=a.result,t.tableData=a.result.user,t.flow=a.result.flow})}}},o={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("top-header-back",{attrs:{title:"审批流程详情"}},[s("el-button",{attrs:{size:"mini",type:"text",disabled:t.$utils.isNotEqual(t.pageData.status,1)}},[s("kye-confirm",{attrs:{disabled:t.$utils.isNotEqual(t.pageData.status,1),title:"通过权限申请",content:"确定通过权限申请流程？点击确定后访问权限将自动开通！",callback:t.handlePass,"scope-data":{id:t.pageData.id}}},[s("span",[s("i",{staticClass:"el-icon-check"},[t._v(" 通过")])])])],1),t._v(" "),s("el-button",{attrs:{size:"mini",type:"text",disabled:t.$utils.isNotEqual(t.pageData.status,1)}},[s("kye-prompt",{attrs:{disabled:t.$utils.isNotEqual(t.pageData.status,1),title:"请输入驳回申请权限原因",callback:t.handleReject,"scope-data":{id:t.pageData.id}}},[s("span",[s("i",{staticClass:"el-icon-close"},[t._v(" 驳回")])])])],1)],1),t._v(" "),s("div",{staticClass:"page-container"},[s("div",{staticClass:"steps-content"},[s("h2",{staticClass:"sub-header"},[t._v("申请人信息")]),t._v(" "),s("ul",[s("li",{staticClass:"msg-block"},[s("span",{staticClass:"name"},[t._v("申请人")]),t._v(" "),s("span",{staticClass:"content"},[t._v(t._s(t.pageData.applicant))])]),t._v(" "),s("li",{staticClass:"msg-block"},[s("span",{staticClass:"name"},[t._v("申请人岗位")]),t._v(" "),s("span",{staticClass:"content"},[t._v(t._s(t.pageData.position))])]),t._v(" "),s("li",{staticClass:"msg-block"},[s("span",{staticClass:"name"},[t._v("所属部门")]),t._v(" "),s("span",{staticClass:"content"},[t._v(t._s(t.pageData.department_name))])]),t._v(" "),s("li",{staticClass:"msg-block"},[s("span",{staticClass:"name"},[t._v("备注")]),t._v(" "),s("span",{staticClass:"content"},[t._v(t._s(t.pageData.remark))])])])]),t._v(" "),s("div",{staticClass:"steps-content"},[s("h2",{staticClass:"sub-header"},[t._v("申请内容")]),t._v(" "),s("ul",[s("li",{staticClass:"msg-block"},[s("span",{staticClass:"name"},[t._v("申请内容")]),t._v(" "),s("span",{staticClass:"content"},[t._v(t._s(t.pageData.content))])]),t._v(" "),s("li",{staticClass:"msg-block"},[s("span",{staticClass:"name"},[t._v("申请角色名称")]),t._v(" "),s("span",{staticClass:"content"},[t._v(t._s(t.pageData.role_name))])]),t._v(" "),s("li",{staticClass:"msg-block"},[s("span",{staticClass:"name"},[t._v("流程状态")]),t._v(" "),s("span",{staticClass:"content"},[t._v(t._s(t.pageData.rejected_reason))])]),t._v(" "),s("li",{staticClass:"msg-block"},[s("span",{staticClass:"name"},[t._v("申请状态")]),t._v(" "),s("span",{staticClass:"content"},[t._v(t._s(t.$utils.checkStatus(t.pageData.status)))])])])]),t._v(" "),s("div",{staticClass:"steps-user"},[s("h2",{staticClass:"sub-header"},[t._v("申请角色用户")]),t._v(" "),s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"mini"}},[s("el-table-column",{attrs:{type:"index",prop:"index",label:"序号",width:"60"}}),t._v(" "),s("el-table-column",{attrs:{prop:"name",label:"用户姓名"}}),t._v(" "),s("el-table-column",{attrs:{prop:"department_route",label:"组织路径","show-overflow-tooltip":!0}}),t._v(" "),s("el-table-column",{attrs:{prop:"position",label:"工作职务"}}),t._v(" "),s("el-table-column",{attrs:{label:"入职时间",width:"125"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("\n            "+t._s(t._f("datetime")(a.row.created_at))+"\n          ")]}}])})],1)],1)])],1)},staticRenderFns:[]};var r=s("vSla")(c,o,!1,function(t){s("sa27")},"data-v-13b4e8ef",null);a.default=r.exports}});
//# sourceMappingURL=3.f34a636cbc08eb41402f.js.map